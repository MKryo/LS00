<!DOCTYPE html>
<html lang="ja">

<head>
    {% load static %}
    <meta charset="utf-8">
    <title>調査に関するページ</title>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <link rel="stylesheet" href="{% static '/causalexp/css/css.css' %}">
    <script>
        function check_agreement1() {
            if (document.getElementById('agreement').checked) {
                document.getElementById('need_agree').style.display = "none";
                document.getElementById('when_agreeing').style.display = "inline-grid";
            } else {
                document.getElementById('need_agree').style.display = "inline-grid";
                document.getElementById('when_agreeing').style.display = "none";
            }
        }
        function check_agreement2() {
            let checks = document.getElementsByClassName("checks");
            let count = 0;
            for (let i = 0; i < checks.length; i++) {
                if (checks[i].checked) count++;
            }
            if (count == checks.length) {
                document.getElementById("button").removeAttribute("disabled");
            } else {
                document.getElementById("button").setAttribute("disabled", true);
            }
        }
    </script>
</head>

<body>
    <div id="examine_header">注意</div>
    <div style="display: inline-grid;">
        <p>本調査で得られたデータは、個人を特定できない統計データとして学術研究に使用させていただきます。</p>
        <p>皆様の回答はすべて暗号化し、サーバーに保存されます。</p>
        <p>また、個人のデータを取り出して分析が行われることもありません。</p>
        <p>調査にご協力いただける方は、下のボタンから実験ページに遷移し、実験を行ってください.</p>
        <p>送信が完了すると、8桁の数字列が表示されます。コピーしてクラウドワークスの該当欄に記入してください.</p>
        <p>回答を確認次第確定処理をいたします。</p>
    </div>
    <br>
    <div>以上に同意していただける場合は以下のチェックボックスをクリックしてください。</div>
    <div id="need_agree" style="color:red; display:inline-grid;">
        <p>回答を行う場合は同意が必要です。</p>
        <p>同意する場合はこちらのチェックボックスを選択して下さい。</p>
        <p>ご同意頂けない場合はこのまま画面を閉じてください。</p>
        <p>その場合、報酬はお支払い致しませんのでご了承下さい。</p>
    </div>
    <br>
    <input type="checkbox" id="agreement" onclick="check_agreement1()" />
    <label for="agreement">同意します</label>
    <br>

    <p>
    <div id="when_agreeing" style="margin:auto; display:none;">
        <p>ありがとうございます。</p>
        <p>以下のストーリーをお読みいただき、回答ページに進んで下さい。</p>
        <p>それぞれの項目を読んだら左側のチェックボックスをチェックしてください。</p>
        <div id="scenario_description" style="margin:auto; text-align: left;">
            <form action="cgi-bin/abc.cgi" method="post">
                <p>
                    <input class="checks" type="checkbox" id="checkbox1" style="transform:scale(1.5)"
                        onclick="check_agreement2()" />
                    <label for="checkbox1">あなたには「化学物質の投与」と「動物の遺伝子の突然変異」という二つの間の関係を調査している研究者を演じてもらいます。</label>
                </p>
                <p>
                    <input class="checks" type="checkbox" id="checkbox2" style="transform:scale(1.5)"
                        onclick="check_agreement2()" />
                    <label
                        for="checkbox2">この調査のため、3種類の動物実験が行われました。以下ではその記録を見ていくことにします。
                        <ul>
                            <li>一つ目の実験では「5-HSという化学物質をマウスに投与したときの遺伝子の変異を調査しました」</li>
                            <li>二つ目の実験では「PBTAという化学物質をウサギに投与したときの遺伝子の変異を調査しました」</li>
                            <li>三つ目の実験では「2,3-MEという化学物質をハトに投与したときの遺伝子の変異を調査しました」</li>
                        </ul>
                    </label>
                </p>
                <br>
                <p>
                    <input class="checks" type="checkbox" id="checkbox3" style="transform:scale(1.5)"
                        onclick="check_agreement2()" />
                    <label
                        for="checkbox3">
                        いずれの実験でも化学物質を投与された動物とされなかった動物がいました。化学物質投与後、しばらくしてからそれぞれの動物の遺伝子を調べ、突然変異が起きているかどうかを確認しました。もちろん化学物質が投与されていない動物でも、自然に遺伝子の突然変異が起こることもあります。
                    </label>
                </p>
                <br>
                <p>
                    <input class="checks" type="checkbox" id="checkbox4" style="transform:scale(1.5)"
                        onclick="check_agreement2()" />
                    <label for="checkbox4">各研究にはそれぞれ60匹の動物を使用したため、合計で180匹の実験記録が得られました。これからその実験記録が一つずつ提示されるので、動物の遺伝子が突然変異するか否かを予測してください。</label>
                </p>
                <br>
                <p>
                    <input class="checks" type="checkbox" id="checkbox5" style="transform:scale(1.5)"
                        onclick="check_agreement2()" />
                    <label for="checkbox5">その後すぐに、動物の遺伝子に実際に変異が起こったかどうかのフィードバックが与えられます。あなたには、このフィードバックを使って「動物に化学物質を投与することが、遺伝子の突然変異を引き起こしているかどうか」について判断してもらいます。</label>
                </p>
                <p>
                    <input class="checks" type="checkbox" id="checkbox6" style="transform:scale(1.5)"
                        onclick="check_agreement2()" />
                    <label for="checkbox6">最初は憶測するしかありませんが、最後にはエキスパートになっているでしょう。</label>
                </p>
            </form>
        </div>
    </div>
    </p>
    <br>
    <form action="/examine/" style="text-align:center;, display:block;">
        <input type="submit" id='button' value="回答を開始する" disabled>
    </form>
</body>

</html>